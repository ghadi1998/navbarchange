{"version":3,"sources":["../server/app.js"],"names":["express","require","path","cors","bodyParser","helmet","cookieParser","app","use","req","res","next","setHeader","json","type","urlencoded","extended","options","static","join","__dirname","get","send","Users","module","exports"],"mappings":";;AAAA;AACA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;AACA;AACA,IAAIE,OAAMF,QAAQ,MAAR,CAAV;AACA;AACA,IAAIG,aAAWH,QAAQ,aAAR,CAAf;AACA;AACA,IAAII,SAAQJ,QAAQ,QAAR,CAAZ;AACA;AACA,IAAIK,eAAcL,QAAQ,eAAR,CAAlB;AACA;AACA,IAAMM,MAAMP,SAAZ;AACA;AACAO,IAAIC,GAAJ,CAAQL,MAAR;;AAIA;AACAI,IAAIC,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1BD,MAAIE,SAAJ,CAAc,6BAAd,EAA6C,GAA7C;AACAF,MAAIE,SAAJ,CAAc,kCAAd,EAAkD,IAAlD;AACAF,MAAIE,SAAJ,CAAc,8BAAd,EAA8C,CAAC,OAAD,EAAU,MAAV,EAAkB,KAAlB,EAAyB,QAAzB,EAAmC,KAAnC,CAA9C;AACAF,MAAIE,SAAJ,CAAc,8BAAd,EAA+C,GAA/C;AACAF,MAAIE,SAAJ,CAAc,+BAAd,EAA+C,cAA/C;AACAD;AACD,CAPD;;AASA;AACAJ,IAAIC,GAAJ,CAAQJ,WAAWS,IAAX,EAAR;AACAN,IAAIC,GAAJ,CAAQJ,WAAWS,IAAX,CAAgB,EAAEC,MAAM,kBAAR,EAAhB,CAAR;AACAP,IAAIC,GAAJ,CAAQJ,WAAWW,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;AACAT,IAAIC,GAAJ,CAAQF,cAAR;AACA;AACAC,IAAIC,GAAJ,CAAQH,QAAR;AACA;AACCE,IAAIU,OAAJ,CAAY,GAAZ,EAAiBd,MAAjB;;AAGD;AACAI,IAAIC,GAAJ,CAAQR,QAAQkB,MAAR,CAAe,UAAf,CAAR;AACAX,IAAIC,GAAJ,CAAQR,QAAQkB,MAAR,CAAehB,KAAKiB,IAAL,CAAUC,SAAV,EAAqB,gBAArB,CAAf,CAAR;AACAb,IAAIc,GAAJ,CAAQ,GAAR,EAAa,UAACZ,GAAD,EAAMC,GAAN,EAAc;AACzBA,MAAIY,IAAJ,CAAStB,QAAQkB,MAAR,CAAehB,KAAKiB,IAAL,CAAUC,SAAV,EAAqB,2BAArB,CAAf,CAAT;AACD,CAFD;;AAIA;AACA,IAAIG,QAAQtB,QAAQ,gBAAR,CAAZ;AACA;AACAM,IAAIC,GAAJ,CAAQ,QAAR,EAAkBe,KAAlB;;AAQA;AACCC,OAAOC,OAAP,GAAiBlB,GAAjB;;AAGA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["//the main framework , express\r\nvar express = require('express');\r\n//path , used for joining pathes\r\nvar path = require('path');\r\n//cross origin resource sharing \r\nvar cors= require('cors')\r\n//body parser used to take data from forms , to be used later on\r\nvar bodyParser=require(\"body-parser\");\r\n//for security reasons , http security(not https)\r\nvar helmet= require('helmet')\r\n//for parsing tokens and session cookies\r\nvar cookieParser= require('cookie-parser')\r\n//assigning express functionaities as a global variable\r\nconst app = express()\r\n//assigning cors functionaities as a global variable\r\napp.use(cors())\r\n\r\n\r\n\r\n//headers that will be sent to the browser\r\napp.use((req, res, next) => {\r\n  res.setHeader('Access-Control-Allow-Origin', '*');\r\n  res.setHeader('Access-Control-Allow-Credentials', true);\r\n  res.setHeader('Access-Control-Allow-Methods', ['PATCH', 'POST', 'GET', 'DELETE', 'PUT']);\r\n  res.setHeader('Access-Control-Allow-Headers' , '*')\r\n  res.setHeader('Access-Control-Expose-Headers' ,'content-type')\r\n  next();\r\n});\r\n\r\n//body parser for form data\r\napp.use(bodyParser.json())\r\napp.use(bodyParser.json({ type: 'application/json' }))\r\napp.use(bodyParser.urlencoded({ extended: true }))\r\napp.use(cookieParser())\r\n// secure apps by setting various HTTP headers\r\napp.use(helmet())\r\n// enable CORS - Cross Origin Resource Sharing\r\n app.options('*', cors()); \r\n\r\n\r\n//fetching index from react\r\napp.use(express.static('./build/'));\r\napp.use(express.static(path.join(__dirname, './client/build')));\r\napp.get('*', (req, res) => {\r\n  res.send(express.static(path.join(__dirname, './client/build/index.html')))  ;\r\n});\r\n\r\n//giving the functionalities of users.js to a variable users to be used later on\r\nvar Users = require('./routes/Users')\r\n//using the functions assigned for users\r\napp.use('/users', Users)\r\n\r\n \r\n \r\n\r\n\r\n\r\n  \r\n//exporting the app file \r\n module.exports = app\r\n\r\n\r\n //note , the app is using a build script , which meanse that all of the pages and functions are rendered \r\n //in the ./bin/www , for compiling reasons , security , cross origin sharing \r\n //for not compiling to es6 on the client side\r\n //didnot use pure webpack for complication reasons \r\n //using hot reloaders , react , redux , minified js scripts in build directory"]}